






optimizelyCode = function(){
var DATA={"public_suffixes":{"spotify.com":["www.spotify.com"]},"log_host":"log.optimizely.com","goal_expressions":{"181149570":["^clicks\\_premium\\_\\/\\_pricing$"],"181708164":["./get-spotify/go/success/premium/.*"],"181691240":["^(https?://)?(www\\.)?\\.\\/get\\-spotify\\/go\\/success\\/unlimited\\/\\.\\*/?(\\?.*)?(#.*)?$"],"153850667":["^email\\_signup\\_\\-\\_green$"],"240873548":["^click\\_download$"],"153813999":["^email\\_signup\\_\\-\\_white$"],"265841684":["^update\\_payment\\_method\\_click\\_through$"],"146299541":["^engagement$"],"287262647":["./account/subscription/thanks/"],"178383551":["./get-spotify/go/success/freetrial30/"],"170730877":["^click\\_get\\_spotify\\_or\\_premium\\_topnav$"],"153824917":["^mac\\_image\\_white$"]},"api_host":"api.optimizely.com","variations":{"300193412":{"name":"Original"},"317904008":{"code":"$(\".legal\").prepend(\"<img id=\\\"optimizely_789933224\\\" src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\" />\");\n$(\".legal > img:eq(1)\").removeAttr(\"src\").removeAttr(\"srcdoc\");\n$(\".legal > img:eq(1)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#optimizely_789933224\").removeAttr(\"src\").removeAttr(\"srcdoc\");\n$(\"#optimizely_789933224\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".more\").prepend(\"<img id=\\\"optimizely_988286579\\\" src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\" />\");\n$(\"#optimizely_988286579\").removeAttr(\"src\").removeAttr(\"srcdoc\");\n$(\"#optimizely_988286579\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".more\").replaceWith(\"<p class=\\\"more\\\"><img id=\\\"optimizely_988286579\\\" style=\\\"display: none;\\\">\\n          <a href=\\\"/de/\\\" id=\\\"link-find-out-more\\\" class=\\\"link-more js-ga-event\\\" data-ga-event-category=\\\"moreinfo\\\" data-ga-event-action=\\\"findmore\\\" data-ga-event-label=\\\"splash_page\\\">\\n            Mehr Info          </a>\\n        </p><img id=\\\"optimizely_988286579\\\" src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\">\");\n$(\".l-box > img#optimizely_988286579\").removeAttr(\"src\").removeAttr(\"srcdoc\");\n$(\".l-box > img#optimizely_988286579\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".legal\").prepend(\"<img id=\\\"optimizely_864987521\\\" src=\\\"<img id=\\\"optimizely_988286579\\\" src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\">\\\" />\");\n$(\".legal\").replaceWith(\"<center><img src=http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\">\");\n$(\"center > img\").css({\"position\":\"relative\", \"left\":0, \"top\":0});\n$(\"center > img\").css({});\n$(\"center > img\").replaceWith(\"<img src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png&quot;\\\" style=\\\"position: relative; left: 0px; top: 0px; width: 50px;\\\" class=\\\"\\\">\");\n$(\"center > img\").replaceWith(\"<img src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png&quot;\\\" style=\\\"position: relative; left: 0px; top: 0px; width: 120px;\\\" class=\\\"\\\">\");\n$(\".is-visible-desk\").replaceWith(\"<a href=\\\"/de/\\\" class=\\\"is-visible-desk link-more\\\">Mehr Info</a>\\n<p><img src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\"></p>\");\n$(\"p > img\").replaceWith(\"<img src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\" width=\\\"150\\\">\");\n$(\"p > img\").replaceWith(\"<br><img src=\\\"http://cl.ly/image/1y0J320u2c3R/Screen%20Shot%202013-09-07%20at%2010.35.47%20AM.png\\\" width=\\\"150\\\">\");","name":"Variation #1"},"299297802":{"code":"$(\"#button-start-freetrial\").click(function(){\n  $(this).unbind('signUp');\n});","name":"Variation #1"},"299203472":{"name":"Variation #1"},"299299474":{"name":"Original"},"286533651":{"name":"Variation #1"},"214430869":{"name":"Original"},"234402841":{"name":"Original"},"265886234":{"name":"Original"},"319800687":{"code":"$(\"#nav-button-get-spotify\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#nav-link-help\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#nav-link-premium\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#nav-link-features\").css({\"display\":\"none\", \"visibility\":\"\"});","name":"Variation #1"},"330520096":{"name":"Variation #1"},"264943914":{"code":"$(\".subscription-box a\").replaceWith(\"<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change Your Payment Method</a>\");\n$(\".subscription-box a\").replaceWith(\"<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>\");\n$(\".subscription-box > p:eq(1)\").replaceWith(\"<p>If you are having issues with your subscription payment,<br>you can\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>.\\n</p>\");\n$(\".subscription-box > p:eq(1)\").replaceWith(\"<p>If you are experiencing issues with your subscription payment,<br>you can\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>.\\n</p>\");","name":"Copy change"},"234385717":{"code":"//set heights to be equal\nvar reasonHeights = [];\n\nvar equalHeights = function () {\n\t$('.reason-text').each(function () {\n\t\treasonHeights.push($(this).height());\n\t});\n\n\tvar biggest = Math.max.apply(Math, reasonHeights);\n\n\t$('.reason-text').each(function () {\n\t\t$(this).height(biggest);\n\t});\n};\n\n$(function () {\n\t//h2:\n\n\t$('.container').eq(2).find('.col-offset-1.col-sm-10').appendTo('.reasons').end().find('h2').css({color: '#555555', textAlign: 'center', marginTop: 0});\n\n\t//reasons:\n\n\t//move reason grid columns into sub-callout-container\n\t$('.reasons').find('.col-sm-12.col-lg-6').each(function () {\n\t  $(this).appendTo('.sub-callout-container');\n\t}).removeClass('reasons');\n\n\n\t//update class name\n\t$('.sub-callout-container').addClass('reasons').css('padding', 0);\n\n\n\t//wrap reason content\n\t$('.reason').each(function () {$(this).find('*').wrapAll('<div class=\"reason-text\" />');});\n\n\t$('.reason-text').css('margin-bottom', '10px');\n\n\n\t//move img\n\t$('.reason').each(function () {$(this).find('img').appendTo($(this));});\n\n\t$(window).resize(function () {\n\t\tequalHeights();\n\t}).trigger('resize');\n});","name":"Variation #1"},"286029757":{"name":"Original"},"320290112":{"name":"Variation #1"},"320075732":{"name":"Original"},"264830933":{"name":"Variation #1"},"316608784":{"name":"Original"},"248794857":{"name":"Variation #1"},"298979566":{"name":"Original"},"330477295":{"name":"Original"},"265895156":{"code":"$(\".subscription-box > p:eq(1)\").replaceWith(\"<p>If you are having issues with your subscription payment,<br>you can\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>.\\n</p>\");\n$(\".gbox2 > .content\").replaceWith(\"<div class=\\\"content\\\">\\n\\t\\t\\t<h1>Your subscription</h1>\\n\\t\\t\\t<br>\\n  <div class=\\\"subscription-box\\\">\\n\\t<h2>Payment method</h2>\\n\\t\\t<p>Your account at <strong>PayPal</strong> is used for payment.</p>\\n<p>If you are having issues with your subscription payment,<br>you can\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>.\\n</p>\\n\\n\\t</div>\\n  \\n\\t\\t\\t<h2>Subscription status</h2>\\n\\t\\t\\t\\n<div>  \\n\\t\\t<div>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou have an active <strong>Spotify Premium</strong> subscription. Your subscription will automatically renew and you will be charged 99,00 kr on 2013-07-09 unless you cancel your recurring payment.\\t\\t\\t</p>\\n\\t\\t</div>\\n</div>\\n\\t\\n\\n\\n\\n\\n\\t\\t\\t<div class=\\\"canRedeemGiftcard\\\">\\n\\t\\t\\t\\t<h2>Premium codes</h2>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\tHave a Premium code? You can <a href=\\\"/us/redeem/\\\">redeem it here</a>.\\t\\t\\t\\t</p>\\n\\t\\t\\t</div><!--/canRedeemGiftcard-->\\n\\n\\n\\t\\t\\t<h2>View receipts</h2>\\n\\n\\t\\t\\t<p>Click below to view the receipts for your payments</p>\\n\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<a href=\\\"/us/account/subscription/receipt/\\\">\\n\\t\\t\\t\\t\\tView receipts\\t\\t\\t\\t</a>\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h2>Cancel your subscription</h2>\\n\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<a href=\\\"/us/account/subscription/cancel/\\\">\\n\\t\\t\\t\\t\\t<span>View your options</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</p>\\n  </div>\");\n$(\".subscription-box > p:eq(1)\").replaceWith(\"<p>If you are experiencing issues with your subscription payment,<br>you can\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Update or Change your payment method here</a>.\\n</p>\");","name":"Copy change + moved pay up"},"265906295":{"code":"$(\".gbox2 > .content\").replaceWith(\"<div class=\\\"content\\\">\\n\\t\\t\\t<h1>Your subscription</h1>\\n\\t\\t\\t<br>\\n  <div class=\\\"subscription-box\\\">\\n\\t<h2>Payment method</h2>\\n\\t\\t<p>Your account at <strong>PayPal</strong> is used for payment.</p>\\n<p>\\n\\t<a href=\\\"/us/account/subscription/change-payment/\\\">Change payment method or card details\\t</a>\\n</p>\\n\\n\\t</div>\\n\\t\\t\\t<h2>Subscription status</h2>\\n\\t\\t\\t\\n<div>\\n\\t\\t<div>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\tYou have an active <strong>Spotify Premium</strong> subscription. Your subscription will automatically renew and you will be charged 99,00 kr on 2013-07-09 unless you cancel your recurring payment.\\t\\t\\t</p>\\n\\t\\t</div>\\n</div>\\n\\t\\n\\n\\n\\n\\n\\t\\t\\t<div class=\\\"canRedeemGiftcard\\\">\\n\\t\\t\\t\\t<h2>Premium codes</h2>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\tHave a Premium code? You can <a href=\\\"/us/redeem/\\\">redeem it here</a>.\\t\\t\\t\\t</p>\\n\\t\\t\\t</div><!--/canRedeemGiftcard-->\\n\\n\\n\\t\\t\\t<h2>View receipts</h2>\\n\\n\\t\\t\\t<p>Click below to view the receipts for your payments</p>\\n\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<a href=\\\"/us/account/subscription/receipt/\\\">\\n\\t\\t\\t\\t\\tView receipts\\t\\t\\t\\t</a>\\n\\t\\t\\t</p>\\n\\n\\t\\t\\t<h2>Cancel your subscription</h2>\\n\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<a href=\\\"/us/account/subscription/cancel/\\\">\\n\\t\\t\\t\\t\\t<span>View your options</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</p>\\n  </div>\");","name":"Original, moved pay up"},"249097464":{"name":"Original"},"214006906":{"name":"Variation #1"},"265120123":{"name":"Original"}},"installation_verified":true,"experiments":{"234396899":{"variation_ids":["234402841","234385717"],"name":"Freetrial features above fold","enabled_variation_ids":["234402841","234385717"],"conditions":[{"type":"url","values":[{"value":"http://www.spotify.com/us/freetrial/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"317823155":{"variation_ids":["316608784","317904008"],"name":"signup-for-spotify DE test","enabled":true,"enabled_variation_ids":["316608784","317904008"],"variation_weights":{"317904008":5000,"316608784":5000},"conditions":[{"type":"url","values":[{"value":"http://www.spotify.com/de/signup-for-spotify","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"299195911":{"variation_ids":["299299474","299203472"],"name":"CTA on Free trial - Mega page","enabled_variation_ids":["299299474","299203472"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/us/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"320191755":{"variation_ids":["320075732","320290112"],"name":"Student header test","enabled_variation_ids":["320075732","320290112"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/uk/student/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"330470317":{"variation_ids":["330477295","330520096"],"name":"Support experiment","enabled_variation_ids":["330477295","330520096"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/nl/account/profile/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"299602128":{"variation_ids":["298979566","299297802"],"name":"Freetrial without signup popup","enabled_variation_ids":["298979566","299297802"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/uk/freetrial/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"213994961":{"variation_ids":["214430869","214006906"],"name":"Zombies or moments","enabled_variation_ids":["214430869","214006906"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/us/for-music","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"265134067":{"variation_ids":["265120123","264830933"],"name":"Account page","enabled_variation_ids":["265120123","264830933"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/us/account/overview/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"264627893":{"variation_ids":["265886234","264943914","265895156","265906295"],"name":"Sub/pay account page test","ignore":95,"enabled_variation_ids":["265886234","264943914","265895156","265906295"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/us/account/subscription/","match":"simple"},{"value":"https://www.spotify.com/se/account/subscription/","match":"simple"},{"value":"https://www.spotify.com/gb/account/subscription/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"300207449":{"variation_ids":["300193412","319800687"],"name":"Freetrial header removal","enabled":true,"enabled_variation_ids":["300193412","319800687"],"variation_weights":{"319800687":5000,"300193412":5000},"conditions":[{"type":"url","values":[{"value":"http://www.spotify.com/us/freetrial","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"248988414":{"variation_ids":["249097464","248794857"],"name":"Freetrial - CTA text","enabled_variation_ids":["249097464","248794857"],"conditions":[{"type":"url","values":[{"value":"http://www.spotify.com/us/freetrial","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"287201589":{"variation_ids":["286029757","286533651"],"name":"Cancellation process","enabled_variation_ids":["286029757","286533651"],"conditions":[{"type":"url","values":[{"value":"https://www.spotify.com/us/account/subscription/cancel/","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]}},"click_goals":[{"event_name":"email_signup_-_white","experiments":{"150217034":true},"selector":"#code-intro-message"},{"event_name":"mac_image_white","experiments":{"150217034":true},"selector":".col-2"},{"event_name":"email_signup_-_green","experiments":{"150217034":true},"selector":"#code-intro-message"},{"event_name":"click_get_spotify_or_premium_topnav","experiments":{"171478813":true},"selector":".get_spotify,a.premium"},{"event_name":"click_download","experiments":{"240633967":true},"selector":".box > a:eq(3),.js-use-web-player,.link-more,.get-spotify"},{"event_name":"update_payment_method_click_through","experiments":{"264627893":true},"selector":".subscription-box a"}],"version":"www-master-1214.370500970302995797","admin_account_id":146312396,"www_host":"www.optimizely.com","project_id":146312396,"segments":{"172210784":{"name":"Campaign","segment_value_type":"campaign","api_name":"optimizely_campaign","id":172210784},"173064250":{"name":"Browser","segment_value_type":"browser","api_name":"optimizely_browser","id":173064250},"172815652":{"name":"Source Type","segment_value_type":"source_type","api_name":"optimizely_source_type","id":172815652},"172898846":{"name":"Mobile Visitors","segment_value_type":"mobile","api_name":"optimizely_mobile","id":172898846}},"revision":355};

var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,d){var h=!!Object.prototype.__lookupGetter__,e=!!Object.prototype.__lookupSetter__,c;for(c in a)if(a.hasOwnProperty(c)){var f=h?a.__lookupGetter__(c):null,g=e?a.__lookupSetter__(c):null;try{b.call(d,c,!f?a[c]:null,f,g)}catch(i){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,d){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,b){d.prototype.__defineGetter__(c,b);optly.Cleanse.log("restored getter",a,c)});Object.prototype.__defineSetter__&&optly.Cleanse.each(optly.Cleanse.setters[a],function(c,b){d.prototype.__defineSetter__(c,b);optly.Cleanse.log("restored setter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],
function(b,f){d.prototype[b]=f;optly.Cleanse.log("restored property",a,b)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,d=0;d<b.length;d++)a.log(b[d])}};
optly.Cleanse.log=function(a,b,d){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+d)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test")))if(optly.Cleanse.running)optly.Cleanse.log("already running so didn't start");else{optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]=
{};optly.Cleanse.setters[a]={};optly.Cleanse.each(b.prototype,function(e,c,f,g){optly.nativity.isNativeFunction(c)||optly.nativity.isNativeFunction(f)||optly.nativity.isNativeFunction(g)?optly.Cleanse.log("ignore native code",a,e):(f?(optly.Cleanse.getters[a][e]=f,optly.Cleanse.log("cleansed getter",a,e)):(optly.Cleanse.properties[a][e]=c,optly.Cleanse.log("cleansed property",a,e)),g&&(optly.Cleanse.setters[a][e]=g,optly.Cleanse.log("cleansed setter",a,e)),delete b.prototype[e])})});optly.Cleanse.fixGetElementsByClassName();
optly.Cleanse.hasRunStart=!0}};optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.setters={};optly.Cleanse.types={HTMLElement_:window.HTMLElement,Object_:Object};window.optly=window.optly||{};
window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};
optly.Cleanse.start();
var $=jQuery;
var g=void 0,i=!0,j=null,k=!1;function aa(a,b,c){switch(c){case "exact":return a=ba(a),a=ca(a,"optimizely_log"),a=ca(a,"optimizely_verbose"),a===ba(b);case "regex":try{return Boolean(a.match(b))}catch(d){return k}case "simple":return a=ba(da(a)),b=ba(da(b)),a===b;case "substring":return a=ba(a,i),b=ba(b,i),-1!==a.indexOf(b);default:return k}}function da(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}
function ba(a,b){var a=a.toLowerCase().replace(/[/&?]+$/,""),c=ea.slice(0);b||(c=c.concat(fa));for(var d=c.length,e=0;e<d;e++)a=a.replace(RegExp("^"+c[e]),"");return a}function ca(a,b){return a.replace("&"+b+"=true","").replace("?"+b+"=true&","?").replace("?"+b+"=true","")}var ea=["https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],fa=["www."];function ga(a){a=a||{};if(m){a&&a.sVariable&&(ha=a.sVariable);var b=ha||("undefined"!==typeof window.s?window.s:j);if(b)if(ia){if((a=ja)&&b)try{o("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){o("Integrator","Error setting SiteCatalyst referrer: %s",c)}o("Integrator","Tracking with SiteCatalyst");p(ka(),function(a){var c=t(a),a=v(c,a,100,100,25,i),f=a.key+": "+a.value,a=[],h=x(c,"site_catalyst_evar")||j,c=x(c,"site_catalyst_prop")||j;h!==j&&a.push("eVar"+h);c!==
j&&a.push("prop"+c);p(a,function(a){o("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else la=i;else z("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}
function ma(){if(m){var a=A("optimizelyReferrer");a&&0<a.length&&(ja=a,B("optimizelyReferrer",""));if(a=ja)try{o("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){o("Integrator","Error setting Google Analytics referrer: %s",b)}p(ka(),function(a){var b=t(a);if(x(b,"chartbeat")){var c=na;na="";var h=v(b,a,10,10,5,k);na=c;c=oa(a);pa=h.key+": "+String(c);try{o("Integrator","Calling _cbq.push");_cbq.push(["_optlyx",pa])}catch(l){z("Integrator","Error sending Chartbeat data for "+
C(b))}}if(x(b,"crazyegg")){h=v(b,a,100,100,15,k);try{o("Integrator","Defining CE_SNAPSHOT_NAME");window.CE_SNAPSHOT_NAME=h.key+": "+h.value}catch(n){z("Integrator","Error sending CrazyEgg data for "+C(b))}}if(ra(b)){h=ra(b);c=0;sa(h)&&(c=h.slot||c);var h=c,c=ra(b),r="";sa(c)&&(r=c.tracker||r);c=r;r=v(b,a,28,24,5,i);try{var q="";c!==""&&(q=c+".");o("Integrator","Calling _gaq._setCustomVar for slot %d and scope %d",h,ta);_gaq.push([q+"_setCustomVar",h,r.key,r.value,ta])}catch(w){z("Integrator","Error sending Google Analytics data for "+
C(b))}}if(D("kissmetrics")){h=v(b,a,100,100,15,i);c={};c[h.key]=h.value;try{o("Integrator","Calling _kmq.set");_kmq.push(["set",c])}catch(O){z("Integrator","Error sending KISSmetrics data for "+C(b))}}if(x(b,"mixpanel")){a=v(b,a,100,100,15,k);h={};h[a.key]=a.value;try{o("Integrator","Calling mixpanel.push");mixpanel.push(["register",h])}catch(ua){z("Integrator","Error sending Mixpanel data for "+C(b))}}});a=A("optimizelyChartbeat")||"";try{if(a&&pa!=a&&(o("Integrator","Calling _cbq.push for referral"),
_cbq.push(["_optlyr",a])),pa!=a)o("Integrator","Set new Chartbeat referral cookie."),B("optimizelyChartbeat",pa)}catch(c){z("Integrator","Error sending Chartbeat referral for "+a)}ia=i;la&&(ga(),la=k)}}function va(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function ka(){var a=wa.concat(F),b=[];p(xa(),function(c){var d=t(c),e=k;if(ya(d)){var f=za(c);Aa(a,d)&&(o("Integrator",'"%s" relevant because experiment active',f),e=i);if(Ba(c)&&((d=A("optimizelyRedirect"))&&(Ca=d),Ca==c||Da(Ea(c))))o("Integrator",'"%s" relevant because it redirected to here',f),e=i;e&&b.push(c)}});return b}function Ba(a){return(a=Fa(Ea(a)))?a[1]:j}
function v(a,b,c,d,e,f){a=na+(x(a,"name")||"");b=Ga(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=va(a,c),b=va(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}var la=k,pa="",ta=2,ia=k,na="Optimizely ",ha=j,ja=j,Ca=j;var Ha,G;
function Ia(a,b,c){Ja=i;H&&c!==i&&I(document.location.href);a=String(a);b=String(b);if("-1"===b){Ka[a]&&delete Ka[a];La[a]&&delete La[a];for(c=0;c<J.length;c++)J[c].g===a&&J.splice(c,1);Ma()}else{c=j;if(256>=Number(b)){var c=String,d=Na(a),e=j;try{e=d[b]}catch(f){}c=c(e)}else c=String(b);if((b=K(a))&&0<b.length){a:{b=K(a);for(d=0;d<b.length;d++)if(e=Pa(b[d]),Aa(e,c)){b=b[d];break a}b=""}Qa[a]=Qa[a]||{};Qa[a][b]=c;z("Distributor","Preferring variation partial "+c+" of section "+b+" of experiment "+a);
a=Ra(a);1===a.length&&Sa(a[0],"api.bucketUser",k,i)}else Sa(c,"api.bucketUser",k,i)}Ta()}function Va(a){a&&"tracking"===a||(H=k);m=k}function Wa(){z("API","Finalizing API.");Xa();Ha=i}
function Xa(){Ya={};Za={};$a={};p(xa(),function(a){var b=t(a);Ya[b]=a.split("_");Za[b]=oa(a);$a[b]=za(a)});L={experiments:{},sections:{},segments:{},state:{},variations:{},visitor:{}};L.customTags=G;for(var a=ab(),b=0;b<a.length;b++){var c=a[b],d={};d.code=x(c,"code")||"";d.name=x(c,"name")||"";d.manual=bb(c);d.section_ids=K(c);d.variation_ids=Na(c);L.experiments[c]=d}a=cb();for(b=0;b<a.length;b++)c=a[b],L.segments[c]={name:db(c,"name")||""};a=N(D("sections")||{});for(b=0;b<a.length;b++)c=a[b],d=
{},d.name=D("sections",c,"name")||"",d.variation_ids=Pa(c),L.sections[c]=d;a=N(D("variations")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=za(c),d.code=Ea(c),L.variations[c]=d;a={};b=eb();a.browser={ff:"Firefox",ie:"Internet Explorer",safari:"Safari",gc:"Google Chrome",opera:"Opera"}[b]||"";b=fb();a.location={city:b.city,continent:b.continent,country:b.country,region:b.region};a.ip=gb();a.params={};c=hb();c.reverse();b=0;for(d=c.length;b<d;b++)a.params[c[b][0]]=decodeURIComponent(c[b][1]);a.referrer=
String(document.referrer);a.segments=ib();a.mobile="unknown"!==jb();a.os=kb();L.visitor=a;b={};b.activeExperiments=wa||[];b.variationIdsMap=Ya;b.variationMap=Za;b.variationNamesMap=$a;L.state=b;lb(window.optimizely,{activeExperiments:wa,allExperiments:mb(),all_experiments:mb(),data:L,variationIdsMap:Ya,variationMap:Za,variationNamesMap:$a,variation_map:Za})}var L={},nb=[],ob=[],Ya={},Za={},$a={};function pb(a,b){var b=b===i,c,d=j;p(J,function(b){a==b.g&&(d=b.id)});if((c=d)&&0<c.length)return z("Distributor","Not distributing experiment "+a+" (already in plan)"),i;if(b||a in Ka)return z("Distributor","Not distributing experiment "+a+" (is ignored)"),P[a]="it is ignored",k;c=x(a,"enabled_variation_ids")||[];if(0===c.length)return z("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),P[a]="it has no enabled variations",qb(a),k;var e=x(a,"ignore")||0;if(e>Math.floor(100*
Math.random()))return z("Distributor","Permanently ignoring experiment "+a+"("+e+"% likelihood)"),qb(a),k;e=c;Qa[a]!==g&&(z("Distributor","Taking into account bucketUser variations for experiment "+a),e=Ra(a));var f;f=e;var h=[],l=x(a,"variation_weights")||{};p(f,function(a){h.push(l[a])});f=rb(h);e=e[f];z("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");Sa(e,"distributor",k);return i}
function Ra(a){var b=[];p(x(a,"enabled_variation_ids")||[],function(c){var d=i,e;for(e in Qa[a])-1===c.indexOf(Qa[a][e])&&(d=k);d&&b.push(c)});return b}var Qa={};function hb(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b}function sb(a){for(var b=hb(),c=0;c<b.length;c++){var d=b[c];if(d[0]===a)return d[1]}return j};function tb(a){return a&&-1!==String(a).indexOf("[native code]")};function Fa(a){return a.match(/_optimizely_redirect(?:_no_cookie)?=(\S+)/)}function Da(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function ub(a){return Da(a||"")?i:!A("optimizelyRedirect")};function vb(){var a=navigator.userAgent,b=wb([{id:"gc",substring:"Chrome",e:"Chrome"},{id:"safari",r:navigator.vendor,substring:"Apple",e:"Version"},{id:"ff",substring:"Firefox",e:"Firefox"},{id:"opera",prop:window.opera,e:"Opera"},{id:"ie",substring:"MSIE",e:"MSIE"}],a),c=wb([{id:"android",substring:"Android"},{id:"blackberry",substring:"BlackBerry"},{id:"ipad",substring:"iPad"},{id:"iphone",substring:"iPhone"},{id:"ipod",substring:"iPod"},{id:"windows phone",substring:"Windows Phone"}],a),d=j,e=
b.e;e&&(d=xb(a,e)||xb(navigator.appVersion,e));return{k:b.id||"unknown",l:d||"unknown",q:c.id||"unknown"}}function xb(a,b){var c=a.indexOf(b),d=j;-1!==c&&(c+=b.length+1,d=parseFloat(a.substring(c)));return d}function wb(a,b){return p(a,function(a){var d=a.r||b;if(d&&-1!==d.indexOf(a.substring)||a.prop)return a})||{}};var yb=0,H=i,zb=k,Ab=k,Bb=j,Q="",Cb=k,R=k,Db=k,Ja=k,Eb=k,m=i;var Fb,Gb;
(function(){function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=h[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var h,w,O,ua,Oa=e,y,u=d[c];"function"===typeof l&&(u=l.call(d,c,u));switch(typeof u){case "string":return a(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);case "object":if(!u)return"null";e+=f;y=[];if("[object Array]"===Object.prototype.toString.apply(u)){ua=u.length;
for(h=0;h<ua;h+=1)y[h]=b(h,u)||"null";O=0===y.length?"[]":e?"[\n"+e+y.join(",\n"+e)+"\n"+Oa+"]":"["+y.join(",")+"]";e=Oa;return O}if(l&&"object"===typeof l){ua=l.length;for(h=0;h<ua;h+=1)"string"===typeof l[h]&&(w=l[h],(O=b(w,u))&&y.push(a(w)+(e?": ":":")+O))}else for(w in u)Object.prototype.hasOwnProperty.call(u,w)&&(O=b(w,u))&&y.push(a(w)+(e?": ":":")+O);O=0===y.length?"{}":e?"{\n"+e+y.join(",\n"+e)+"\n"+Oa+"}":"{"+y.join(",")+"}";e=Oa;return O}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;Fb=function(a,c,d){var h;f=e="";if("number"===typeof d)for(h=0;h<d;h+=1)f+=" ";else"string"===typeof d&&(f=d);if((l=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})};Gb=function(a,b){function d(a,c){var e,f,h=a[c];
if(h&&"object"===typeof h)for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(f=d(h,e),f!==g?h[e]=f:delete h[e]);return b.call(a,c,h)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===
typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})();function I(a,b,c){c=c||{};Hb(a,c);m&&(Ib.push({name:a,type:b,options:c}),Jb?(Kb(),z("Tracker","Tracking event '"+a+"'")):z("Tracker","Queued tracking event '"+a+"'"))}function Lb(){Mb();$("html").bind("mousedown",Nb);$("html").bind("touchstart",Ob)}function Mb(){$("html").unbind("touchstart",Ob);$("html").unbind("mousedown touchend",Nb);$("html").unbind("touchmove",Lb)}function Ob(){$("html").bind("touchend",Nb);$("html").bind("touchmove",Lb)}
function Pb(){var a=document.location.href,b=D("pageview_revenue_goals");b&&0<N(b)?p(N(b),function(c){I(a,"pageview",{a:c,d:b[c]})}):I(a,"pageview")}function Qb(){var a=A("optimizelyPendingLogEvents")||"[]",b=[];try{b=Gb(a)}catch(c){}if(S(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==typeof e){b=[];break}else try{Gb(e);b=[];break}catch(f){}}else b=[];return b}
function Rb(a,b){if(Sb&&-1!==a.indexOf(Tb))try{var c=new XMLHttpRequest;if("withCredentials"in c){c.onload=b;c.open("GET",a,i);c.withCredentials=i;c.send();return}Sb=k;z("Tracker","Found that XHR with credentials is not supported in this browser.")}catch(d){z("Tracker","XHR not supported"),Sb=k}var c=a,e=new Image;e.onload=b;c=c.replace("&"+Tb,"");e.src=c;Ub.push(e)}
function Vb(a){var b=(a=a===i||"true"===a)?"true":"false";a?(B("optimizelyOptOut",b,31536E4),B("optimizelyBuckets",b,31536E4),alert("You have successfully opted out of Optimizely for this domain.")):(B("optimizelyOptOut",b,31536E4),alert("You are NOT opted out of Optimizely for this domain."))}function Nb(){Mb();I("engagement")}var Ib=[],Jb=k;
function Kb(){var a=["a="+Wb(),"d="+Xb(),"y="+!!D("ip_anonymization")];Ja&&a.push("override=true");p(xa(),function(b){var c=t(b);a.push("x"+c+"="+b)});p(ib(),function(b,c){a.push("s"+b+"="+c)});var b=a.join("&"),c=[];p(Ib,function(a){var b=[];if(a.name){b.push("n="+encodeURIComponent(a.name));var d=a.name,e=D("goal_expressions"),f=[],h;for(h in e)e.hasOwnProperty(h)&&$.each(e[h],function(a,b){try{if(d.match(b))return f.push(h),k}catch(c){}return i});0<f.length&&b.push("g="+f.join(","))}a.options.anonymous!==
i&&b.push("u="+Yb());Sb&&("https:"===document.location.protocol&&"ie"===eb()&&10<=Zb()?0:"pageview"===a.type||"custom"===a.type)&&b.push(Tb);b.push("t="+ +new Date);Ab&&b.push("dtpc="+Ab);if(a.options&&a.options.a){var e=$b(),l=a.options.d,e=ac(e,function(a){return!l[a]}),y=[];0<e.length&&(y=b.concat(["f="+e.join(",")]),c.push(y.join("&")));b.push("v="+encodeURIComponent(a.options.a));0<N(l).length&&(y=b.concat(["f="+N(l).join(",")]),c.push(y.join("&")))}else b.push("f="+$b().join(",")),c.push(b.join("&"));
if("custom"===a.type)try{var u=a.name,Ua=Yb(),E=A("optimizelyCustomEvents")||"{}";try{E=Gb(E)}catch(ce){E={}}var M=E[Ua]||(E[Ua]=[]),M=S(M)?M:[];-1!==$.inArray(u,M)&&M.splice($.inArray(u,M),1);M.push(u);10<M.length&&M.shift();E[Ua]=M;var a=0,b=j,u=0,qa;for(qa in E)E.hasOwnProperty(qa)&&(a++,E[qa].length>u&&qa!==Ua&&(b=qa,u=E[qa].length));10<a&&b!==j&&delete E[b];B("optimizelyCustomEvents",Fb(E),31536E4)}catch(Nc){}});var d=c.concat(Qb());bc(d);d=cc?c:d;cc=i;for(var e=0,f=d.length;e<f;e++){var h=d[e],
l=b+"&"+h;z("Tracker","Making a log request.");Rb(dc("log_host",k,Wb())+"/event?"+l,function(){for(var a=h,b=Qb(),c=0,d=b.length;c<d;c++)if(b[c]===a){b.splice(c,1);break}bc(b);z("Tracker","Removed a pending log event from the pending events cookie.")})}Ib=[];Jb=i}function bc(a){for(var b=Fb(a);1536<b.length;)a=a.slice(0,-1),b=Fb(a);B("optimizelyPendingLogEvents",b,15)}var Ub=[],cc=k,Tb="wxhr=true",Sb=i;function ec(a,b){var c;c=$.trim(b);var d="";if(window.optimizely&&window.optimizely.data)if(d=c.match(fc))d=window.optimizely.data.visitor.params[d[1]],d===g&&(d="");else{for(var d=c.split("."),e=window.optimizely,f=0,h=d.length;f<h;f++)if(e=e[d[f]],e===g||e===j){e="";break}d=""+e}z("Template",c+" evaluated to: '"+d+"'");return d}var gc=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,fc=/^data\.visitor\.params\.(.*)$/;function Hb(a,b){var b=b||{},c=window.optimizelyPreview;c||(c=[],window.optimizelyPreview=c);hc||(c.push(["addEvent",window.location.href,{type:"url"}]),hc=i);c.push(["addEvent",a,b])}function ic(){z("Preview","Will load preview script");var a=["https://",D("www_host"),"/js/preview-",D("version"),".js?account_id=",Xb()].join("");z("Preview","Now loading preview script "+a);jc(a)}var hc=k,kc=k,lc=[],P={};var mc=window.OPTIMIZELY_TEST_MODULE,nc="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq test".split(" "),oc=/\/\*\s*_optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")?( +id="([^"]*)")?\s*\*\//;function A(a){var b=a+"=",c=[];p((document.cookie||"").split(/\s*;\s*/),function(a){0===a.indexOf(b)&&c.push(decodeURIComponent(a.substr(b.length)))});var d=c.length;1<d&&o("Cookie","Values found for %s: %s",a,d);return 0===d?j:c[0]}
function B(a,b,c){var d=pc||T||U,e=document.location.hostname;!T&&D("remote_public_suffix")&&qc.push({j:c,name:a,value:b});d&&(d===T&&d!==U)&&(rc(a,e),rc(a,U));sc(a,b,d,c);var f=A(a);f===b?o("Cookie","Successful set %s=%s on %s",a,b,d):(o("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),o("Cookie","Setting %s on %s",a,e),sc(a,b,e,c),f=A(a),f===b&&(o("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),U=e))}
function rc(a,b){o("Cookie","Deleting %s on %s",a,b);document.cookie=[a,"=; domain=.",b,"; path=/; expires=",(new Date(0)).toUTCString()].join("")}function tc(a){T=a.public_suffix;o("Cookie","Public suffix request returned: %s",T);B("optimizelyPublicSuffix",T,31536E4);if(T!==U)for(;0<qc.length;)a=qc.shift(),B(a.name,a.value,a.j);qc=[]}
function uc(a){var a=dc("api_host")+"/iapi/public_suffix?host="+encodeURIComponent(a),b="callback"+Math.random().toString().replace("0.",""),c=document,d=c.head||c.getElementsByTagName("head")[0]||c.documentElement,c=c.createElement("script");window.optimizely[b]=tc;c.async="async";c.src=[a,-1!==a.indexOf("?")?"&":"?","callback=optimizely.",b].join("");d.insertBefore(c,d.firstChild)}
function sc(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; domain=.",c,"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}var U="",pc="",T="",qc=[];var V;function eb(){function a(){return V.k}V=V||vb();eb=a;return a()}function vc(){var a="";try{a=navigator.userLanguage||window.navigator.language,a=a.toLowerCase()}catch(b){a=""}return a}function Zb(){function a(){return V.l}V=V||vb();Zb=a;return a()}function wc(a){if(!a)return"";try{return a.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(b){return""}}function xc(){return A("optimizelyReferrer")||document.referrer||""}
function Yb(){var a=A("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),B("optimizelyEndUserId",a,31536E4));return a}function gb(){var a="";try{a=window.optimizely.data.visitor.ip}catch(b){}"N/A"===a.toUpperCase()&&(a="");return a}
function fb(){var a={};try{a=window.optimizely.data.visitor.location}catch(b){}var c="",d="",e="",f="";try{d=a.country.toUpperCase()||""}catch(h){d=""}try{e=a.region.toUpperCase()||""}catch(l){e=""}"N/A"===e&&(e="");try{f=a.city.toUpperCase()||""}catch(n){f=""}"N/A"===f&&(f="");try{c=a.continent.toUpperCase()||""}catch(r){c=""}"N/A"===c&&(c="");return{city:f,continent:c,country:d,region:e}}function jb(){function a(){return V.q}V=V||vb();jb=a;return a()}
function kb(){var a=navigator.appVersion||"",b="";-1!==a.indexOf("Win")&&(b="Windows");-1!==a.indexOf("Mac")&&(b="Mac");-1!==a.indexOf("Linux")&&(b="Linux");return b}
function yc(){var a=xc();if(sb("utm_source")||sb("gclid"))return"campaign";for(var b=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www)?\\.google\\..*?/$","bing\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","yahoo\\.\\w{2,3}(\\.\\w{2,3})?/search","baidu\\.\\w{2,3}(\\.\\w{2,3})?/s?"],c=0;c<b.length;c++)if(a.match(b[c]))return"search";return a&&wc(a)!==wc(zc||window.location.href)?"referral":j}var zc=g,Ac=g;function Bc(a,b){if(H){S(a)?Cc(a):(a=[],Cc(b));a=a.concat(F);F=[];for(var c=0;c<a.length;c++)Aa(wa,a[c])||wa.push(a[c]);c=a;c===g?c=[]:Dc(c)&&(c=[c]);for(var d=xa(c),e=[],f=[],h=[],l=[],n=ac(Ec(),function(a){return a.experiments?k:Fc(a.url_conditions||[])}),r=0,q=n.length;r<q;r++){var w={c:n[r].event_name,b:n[r].selector,type:"event '"+n[r].event_name+"' (click goal)",f:i};"revenue"in n[r]&&(w.revenue=n[r].revenue);e.push(w)}p(c,function(a){var b={},c=x(a,"events")||{};p(c,function(a,c){b[a]=[c]});
var c=ac(Ec(),function(b){return"experiments"in b?a in b.experiments:k}),d=0;for(;d<c.length;d++){var n=c[d];b[n.selector]||(b[n.selector]=[]);b[n.selector].push({eventName:n.event_name,revenue:n.revenue,experimentIds:n.experiments})}p(b,function(b,c){p(c,function(c){e.push({c:c.eventName,d:c.experimentIds,a:c.revenue,b:b,type:"event '"+c.eventName+"' (experiment "+a+")",f:i})})});c=x(a,"css")||"";d=x(a,"code")||"";c&&h.push({code:'$("body").append("<style>'+c.replace(/([\f\n\r\t\\'"])/g,"\\$1")+
'</style>");',b:"body",type:"global css (experiment "+a+")",f:i});d&&Gc(d,f,l)});p(d,function(a){for(var b=Ea(a),b=b.split("\n"),c=[],d=i,e=0,h=b.length;e<h;e++){var n=$.trim(b[e]);if(n==="/* _optimizely_variation_url_end */")d=i;else if(n!==""){var q=oc.exec(n);if(q&&q.length===13){var r=q[2]?q[2].split(" "):[],n=q[4]?q[4].split(" "):[],w=q[6]?q[6]:"substring",Nc=q[8]?q[8].split(" "):[],q=q[10]?q[10].split(" "):[];if(r.length>0){d=Hc(r,Nc,w);d=Fc(d)}if(d&&n.length>0){d=Hc(n,q,w);d=!Fc(d)}}else d&&
c.push(n)}}b=c.join("\n");Gc(b,f,l,a)});c=[];c.push.apply(c,f);c.push.apply(c,h);c.push.apply(c,l);c.push.apply(c,e);Ic.push.apply(Ic,c);Jc()}}
function Jc(){var a=k;Kc=j;for(z("Evaluator",Lc+" times waited");!a&&0<Ic.length;){z("Evaluator",Ic.length+" steps remaining");var b=Ic.shift(),c=b,a=k;if(c.t&&!Mc)z("Evaluator","Document not ready yet"),a=i;else if(c.f&&!Mc&&(c=c.b))for(var c=S(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===j||e===g||!e.length)&&0===$(e).length)z("Evaluator","'"+e+"' not found"),a=i}a?Ic.unshift(b):b.c?(z("Evaluator","Bound event "+b.c+" to selector "+b.b),c={},b.a&&(c={a:b.a,d:b.d}),Oc(b.b,b.c,c)):b.code&&(z("Evaluator",
"Run code: "+b.code),Pc(b.code,b.h))}a?(Kc=setTimeout(Jc,0===Lc?10:50),Lc++):z("Evaluator",Lc+" total times waited")}
function Pc(a,b){a=a.replace(gc,ec);if(Fa(a))if(z("Evaluator","Redirect detected"),ub(a))z("Evaluator","OK to redirect"),Da(a)||(z("Evaluator","setting a redirect cookie"+(b?" for variation: "+b:"")),B("optimizelyRedirect",b||"unknown variation",5)),B("optimizelyReferrer",document.referrer,5);else{z("Evaluator","NOT OK to redirect");return}eval("var $j = $;");try{eval(a)}catch(c){var d=R;R=i;z("Evaluator","Error: "+c.message);z("Evaluator","Code: "+a);R=d;z("Evaluator","Failed to run code: "+c.message)}}
function Oc(a,b,c){c=c||{};if(!Qc[a]||!Qc[a][b]){var d=function(){I(b,"custom",c)},e=$(a);if(0<e.length){var f=function(){e.unbind("touchend",d);e.unbind("touchmove",f);e.unbind("mousedown",d)},h=function(){f();e.bind("touchmove",f);e.bind("touchend",d)};e.bind("mousedown",d);e.bind("touchstart",h)}else e=$("html"),f=function(){e.undelegate(a,"touchend",d);e.undelegate(a,"touchmove",f);e.undelegate(a,"mousedown",d)},e.delegate(a,"touchstart",function(){f();e.delegate(a,"touchend",d);e.delegate(a,
"touchmove",f)}),e.delegate(a,"mousedown",d);Qc[a]||(Qc[a]={});Qc[a][b]="mousedown touchstart"}}function Cc(a){a||(a=ab());for(var b=0;b<a.length;b++){var c=a[b],d=P[c];d?(Hb("Not activating "+C(c)+" because "+d+".",{type:"explanation"}),delete P[c]):Hb("Activating "+C(c)+".",{type:"activation",experimentId:c})}}var Qc={},wa=[],F=F||[],Rc=0,Mc=k,Ic=[],Kc=j,Lc=0;$(function(){Mc=i;Kc!==j&&(z("Evaluator","Document is ready"),clearTimeout(Kc),0<Rc?setTimeout(Jc,Rc):Jc())});function Xb(){return D("admin_account_id")}function Ec(){if(!Sc){var a=D("click_goals")||[];Sc=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,h=e.length;f<h;f++){var l=e[f];l&&(l={event_name:d.event_name,selector:l},"experiments"in d?l.experiments=d.experiments:"url_conditions"in d&&(l.url_conditions=d.url_conditions),"revenue"in d&&(l.revenue=d.revenue),Sc.push(l))}}return Sc}function $b(){var a=ac(ab(),ya);$b=function(){return a};return a}
function Tc(a){var b=D("segments")||{},c;for(c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];if(d&&d.api_name===a)return String(c)}return j}function mb(){return D("experiments")||{}}function ab(){return N(D("experiments")||{})}function bb(a){return x(a,"manual")||k}function C(a){return'experiment "'+(x(a,"name")||"")+'" ('+a+")"}function K(a){return x(a,"section_ids")||[]}function Na(a){return x(a,"variation_ids")||[]}function Wb(){return D("project_id")}
function cb(){return N(D("segments")||{})}function Uc(a){var b={},c=D("public_suffixes")||{};p(c,function(a,c){p(c,function(c){b[c]=a})});Uc=function(a){return b[a]||""};return Uc.call(j,a)}function Pa(a){return D("sections",a,"variation_ids")||[]}function Ea(a){var b=[];p(a.split("_"),function(a){(a=D("variations",a,"code"))&&b.push(a)});return b.join("\n")}
function t(a){var b={};p(ab(),function(a){p(K(a),function(d){p(Pa(d),function(d){b[d]=a})});p(Na(a),function(d){b[d]=a})});t=function(a){return b[a.split("_")[0]]||""};return t.call(j,a)}function oa(a){var b=t(a),c=K(b);if(0===c.length){c=Na(b);for(b=0;b<c.length;b++)if(c[b]===a)return b}else{for(var a=a.split("_"),b=[],d=0;d<c.length;d++)for(var e=Pa(c[d]),f=0;f<e.length;f++)e[f]===a[d]&&b.push(f);if(b!==[])return b}return-1}function za(a){var b;return Ga(a).join(b||", ")}
function Ga(a){var b=[];p(a.split("_"),function(a){b.push(D("variations",a,"name")||"Unnamed")});return b}function ya(a){return!!x(a,"enabled")}function x(a,b){return D("experiments",a,b)}function ra(a){return x(a,"google_analytics")}function D(a){var b=DATA;if(p(arguments,function(a){a=b[a];if(sa(a))b=a;else return j})!==j)return b}function db(a,b){return D("segments",a,b)}
function dc(a,b,c){a=D(a);c&&(a=c.toString()+"."+a);c=document.location.protocol;"chrome-extension:"===c&&(c="http:");b&&(c="https:");return c+"//"+a}var Sc=j;function Vc(a){var b=k;if(x(a,"uses_geotargeting")||db(a,"uses_geotargeting"))try{var c=window.optimizely.data.visitor.location;if(0<N(c)&&(""!==c.continent||""!==c.country||""!==c.region||""!==c.city))b=i}catch(d){}else b=i;b||z("Condition","Not ready to test (geotargeting): "+a);return b}
function Wc(a,b){var c=b.manualMode===i,d=b.objectType?b.objectType:"experiment",e="experiment"===d,f=b.defaultFail===i;z("Condition","Testing "+d+" "+a);var h=e&&ya(a),l=e&&bb(a),n;a:switch(d){case "experiment":n=x(a,"conditions")||[];break a;case "segment":n=db(a,"add_condition")||[];break a;default:n=[]}if(e&&!h&&Bb!==a)return z("Condition","Failed for "+d+" "+a+" (paused)"),P[a]="it is paused",k;if(e&&!c&&l)return z("Condition"," Failed for "+d+" "+a+" (manual activation mode)"),P[a]="it is set to use manual activation mode",
k;var r="experiment"===(d||"experiment"),q=i;f&&(q=k);p(n,function(b){var c=b.type;if(r&&b.only_first_time&&Xc(a))z("Condition",c+" condition passed because it only gets checked when bucketing",i);else{var d=!b.not,e=(0,Yc[c])(b),b=e!==d,c="the visitor "+(e?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail");z("Condition","Found that "+c,!b);if(b)return q=k,P[a]=c,k}});return!q?(z("Condition","Failed for "+d+" "+a+" (condition failed)"),k):i}
function Fc(a){for(var b=zc||window.location.href,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=aa(b,e,d);z("Condition","Testing URL "+b+" against  "+e+" ("+d+")",i);if(f)return i}return k}
var Yc={browser:function(a){var b=eb(),c=Zb(),d=k,e=jb();p(a.values,function(a){"unknown"!==e?(d="mobile"===a||a===e,z("Condition",e,i)):0===a.indexOf(b)&&(a=a.substr(b.length),d=""===a||a<=c&&c<Number(a)+1);if(d)return j});return d},code:function(a){a=a.value;if(a===g)return i;try{return Boolean(eval(a))}catch(b){return k}},cookies:function(a){for(var b=k,c=a.names||[],a=a.values||[],d=0;d<c.length;d++){var e=A(c[d]);if(b=sa(a[d])&&""!==Zc(a[d])?b||a[d]===e:b||e!==j&&e!==g)return i}return k},custom_tag:function(a){if(!G)return k;
for(var a=a.values,b=0;b<a.length;b++){var c=a[b].key,d=a[b].value;if(d===g)return Object.prototype.hasOwnProperty.call(G,c);if(String(G[c])==d)return i}return k},event:function(a){var b=A("optimizelyCustomEvents")||"{}";try{b=Gb(b)}catch(c){b={}}var d=b[Yb()]||[];S(d)||(d=[]);var e=k;p(a.values,function(a){if(-1!==$.inArray(a,d))return e=i});return e},ip:function(a){for(var b=gb(),c=0;c<a.values.length;c++){var d=a.values[c],e=d.value;switch(d.match){case "exact":if(b==e&&""!=b)return i;break;case "prefix":if(0==
b.indexOf(e))return i;break;case "regex":try{var f=RegExp(e)}catch(h){return k}if(f.test(b))return i}}return k},language:function(a){var b=vc(),c=k;p(a.values,function(a){if(c="any"===a||0===b.indexOf(a))return j});return c},location:function(a){for(var b=fb(),c=0;c<a.values.length;c++){var d=a.values[c].split("|"),e=$.trim(d[0]),f=$.trim(d[1]),h=$.trim(d[2]),l=$.trim(d[3]);switch(d.length){case 1:if(b.country===e)return i;break;case 2:if(b.region===f&&b.country===e)return i;break;case 3:if(b.city===
h&&(b.region===f||""===f)&&b.country===e)return i;break;case 4:if(b.continent===l)return i}}return k},query:function(a){if(0===a.values.length)return i;var b=k,c=hb();p(a.values,function(a){for(var e=a.key,a=a.value||"",f=0;f<c.length;f++){var h=c[f],l=h[0],h=h[1];if(""!==e&&e===l&&(""===a||a===h))return b=i}});return b},referrer:function(a){for(var b=document.referrer,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=aa(b,e,d);z("Condition","Testing referrer "+b+" against  "+e+" ("+
d+")",i);if(f)return i}return k},segment:function(a){var b=k,c=[];p(W,function(a,b){b&&c.push(a)});p(a.values,function(a){Aa(c,a)&&(b=i)});return b},url:Fc,visitor:function(a){var b=Ac?"returning":"new";switch(a.value){case "new":if("returning"===b)return k;break;case "returning":return"returning"===b}return i}};function $c(){z("Segmenter","Loading segments cookie.");var a=A("optimizelySegments");if(a){try{a=Gb(a)}catch(b){a={}}p(a,function(a,b){z("Segmenter","Segments cookie contains segment id: "+a);W[a]=b})}z("Segmenter","Evaluating all segments.");for(var a=cb(),c=0;c<a.length;c++){var d=a[c];db(d,"is_api_only")?z("Segmenter","Not doing anything since segment "+d+" is api only."):(z("Segmenter","Testing whether to add to segment "+d),Vc(d)?ad(d):ob.push(d))}bd.push(cd);dd();z("Integrator","Loading third-party segments.");
if(D("bluekai")&&window.bk_results){a=window.bk_results;z("Integrator","Loading BlueKai segments.");try{for(var e=a.campaigns,a=0;a<e.length;a++)for(var f=e[a].categories,c=0;c<f.length;c++)ed("bk_segment_"+f[c].categoryID.toString(),i)}catch(h){z("Integrator","Error loading BlueKai segments.")}}}function cd(){var a={};p(W,function(b,c){c&&(a[b]=c)});B("optimizelySegments",Fb(a),31536E4)}
function ed(a,b){var c=Tc(a)||a;c&&!isNaN(parseInt(c,10))?(!b&&""!==b&&(b=i),W[c]=b,dd()):z("Segmenter","Unable to find segment for ID: "+c)}function dd(){p(bd,function(a){a()})}
function ad(a){z("Segmenter","Evaluating Segment "+a);var b=Wc(a,{objectType:"segment"}),c=P[a];c?(Hb("Not adding visitor to segment "+(db(a,"name")||"")+" because "+c+".",{type:"explanation"}),delete P[a]):Hb("Segment add condition matches, addingto segment "+(db(a,"name")||""),{type:"explanation"});if(b){var d;a:{c=b=j;switch(db(a,"segment_value_type")||""){case "browser":b=eb();c="unknown";break;case "campaign":b=sb("utm_campaign");c="none";break;case "country":b=fb().country;c="unknown";break;
case "language":b=vc();c="none";break;case "mobile":b="unknown"!==jb();break;case "os":b=kb();c="unknown";break;case "referrer":b=xc();b=wc(b);c="none";break;case "source_type":b=yc();c="direct";break;default:d="true";break a}if(b===j){if(W.hasOwnProperty(a)){d=j;break a}b=c}var e;e=e||fd;try{d=decodeURIComponent(b)}catch(f){}d=String(d).toLowerCase().substring(0,e);d=encodeURIComponent(d)}d!==j&&ed(a,d)}}function ib(){var a={};p(W,function(b,c){c&&(a[String(b)]=c)});return a}
function gd(a,b){var c=Tc(a)||a;W[c]?(W[c]=k,("undefined"===typeof b||b)&&dd()):z("Segmenter","Not removing "+a+", not found")}var bd=[],W={},fd=20;function z(a,b,c){hd.push({n:new Date,m:a,message:b,i:c||k});id&&jd()}function jd(){R&&(p(hd,function(a){if(!a.p&&(!a.i||a.i===Db)){var b=+a.n;o(a.m,a.message+(" [time "+(kd?b-kd:0)+" +"+(ld?b-ld:0)+"]"));ld=b;kd||(kd=b);a.p=i}}),id=i)}var ld=j,kd=j,hd=[],id=k;function Aa(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return i;return k}function rb(a){var b=a.length;if(0===b)return j;if(1===b)return 0;for(var c=0,d=0;d<b;d++)c+=a[d];c*=Math.random();for(d=0;d<b;d++){if(c<a[d])return d;c-=a[d]}return Math.floor(Math.random()*b)}function md(a,b){var c=nd(arguments,1);return function(){var b=nd(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function p(a,b){var c=j;if(S(a))for(var d=a.length,e=0;e<d&&!(c=b.call(g,a[e],e),sa(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(g,d,a[d]),sa(c)))break;return c}function lb(a,b){p(b,function(b,d){a[b]=d})}function ac(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function od(a,b){return p(b,function(b){if(b===a)return i})||k}function S(a){return a&&"object"===typeof a&&a.length&&"number"===typeof a.length}
function sa(a){return"undefined"!==typeof a}function Dc(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function N(a){N=Object.u||function(a){var c=[];p(a,function(a){c.push(a)});return c};return N.call(j,a)}function jc(a){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}
function o(a,b,c){var d=window.console;if(R&&d&&d.log){var e=nd(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function nd(a,b){return Array.prototype.slice.call(a,b||0,a.length)}function Zc(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function pd(a){return function(b){if("object"===typeof b&&qd()){var c=j,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function qd(){for(var a in{})return i;return k};function rd(){var a=Q,b=document.createElement("a");b.href=a;for(var a=0,c=sd.length;a<c;a++){var d=sd[a];if(d.test(b.pathname))return k}a=0;for(c=td.length;a<c;a++)if(d=td[a],d.test(b.hostname))return k;return RegExp(ud).test(b.hostname)||""===b.hostname}var td=[/(edit|preview)(-local)?(-hrd)?\.optimizely\.(com|test)/,/optimizelyedit(-hrd)?\.appspot\.com/,/cdn[^\.]*\.optimizely\.com/],sd=[/^\/?api\/client/],ud="(\.optimizely\.appspot\.com\$)|(\.optimizely\-hrd\.appspot\.com\$)|(\-dot\-optimizely\.appspot\.com\$)|(\-dot\-optimizely\-hrd\.appspot\.com\$)|(\.optimizely\.com\$)|(\.optimizely\.at\$)|(\.optimizely\.be\$)|(\.optimizely\.bg\$)|(\.optimizely\.by\$)|(\.optimizely\.ch\$)|(\.optimizely\.cl\$)|(\.optimizely\.co\.il\$)|(\.optimizely\.co\.nz\$)|(\.optimizely\.co\.uk\$)|(\.optimizely\.com\.br\$)|(\.optimizely\.com\.hr\$)|(\.optimizely\.com\.mx\$)|(\.optimizely\.cz\$)|(\.optimizely\.de\$)|(\.optimizely\.es\$)|(\.optimizely\.dk\$)|(\.optimizely\.fr\$)|(\.optimizely\.gr\$)|(\.optimizely\.hk\$)|(\.optimizely\.ie\$)|(\.optimizely\.it\$)|(\.optimizely\.jp\$)|(\.optimizely\.lt\$)|(\.optimizely\.lu\$)|(\.optimizely\.lv\$)|(\.optimizely\.nl\$)|(\.optimizely\.mx\$)|(\.optimizely\.pl\$)|(\.optimizely\.pt\$)|(\.optimizely\.ro\$)|(\.optimizely\.ru\$)|(\.optimizely\.se\$)|(\.optimizely\.sg\$)|(\.optimisely\.com\$)|(\.optimisely\.at\$)|(\.optimisely\.be\$)|(\.optimisely\.bg\$)|(\.optimisely\.by\$)|(\.optimisely\.ch\$)|(\.optimisely\.cl\$)|(\.optimisely\.co\.il\$)|(\.optimisely\.co\.nz\$)|(\.optimisely\.co\.uk\$)|(\.optimisely\.com\.br\$)|(\.optimisely\.com\.hr\$)|(\.optimisely\.com\.mx\$)|(\.optimisely\.cz\$)|(\.optimisely\.de\$)|(\.optimisely\.es\$)|(\.optimisely\.dk\$)|(\.optimisely\.fr\$)|(\.optimisely\.gr\$)|(\.optimisely\.hk\$)|(\.optimisely\.ie\$)|(\.optimisely\.it\$)|(\.optimisely\.jp\$)|(\.optimisely\.lt\$)|(\.optimisely\.lu\$)|(\.optimisely\.lv\$)|(\.optimisely\.nl\$)|(\.optimisely\.mx\$)|(\.optimisely\.pl\$)|(\.optimisely\.pt\$)|(\.optimisely\.ro\$)|(\.optimisely\.ru\$)|(\.optimisely\.se\$)|(\.optimisely\.sg\$)|(\.optimizely\.test\$)|(www\-devel\.optimizely\.com\$)|(www\-devel\.optimizely\.appspot\.com\$)|(www\-devel\-dot\-optimizely\.appspot\.com\$)";function Sa(a,b,c,d){var c=c===i,d=d===i,e=k,f=t(a);if(f&&(d||!Xc(f))){e=i;if(d&&Xc(f))for(d=0;d<J.length;d++)J[d].g===f&&J.splice(d,1);J.push({g:f,id:a,source:b});c&&(F=F||[],F.push(f));La[f]=i;Ma();z("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,i)}return e}function Xc(a){return a in Ka||a in La}function xa(a){var b=[],c=!sa(a),a=a||[];p(J,function(d){(c||Aa(a,d.g))&&b.push(d.id)});return b}function qb(a){var b;if(b===i||!Xc(a))Ka[a]=i,Ma()}
function Ta(){var a={};p(vd,function(b,c){a[b]=c});p(J,function(b){var c=t(b.id);a[c]=b.id});p(Ka,function(b){a[b]="0"});B("optimizelyBuckets",Fb(a),31536E4)}function Ma(){p(wd,function(a){a()})}
function Gc(a,b,c,d){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)",h:d});else{for(var a=a.split("\n"),e=k,f=k,h=[],l=[];0<a.length;){var n=Zc(a.shift()),r=0<l.length;if(n)if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))f=i;else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))f=k;else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))e=i;
else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))e=k;else if(!xd.exec(n)&&!e)if(f)h.push(n);else{if(!r){var q=yd.exec(n),w=[];q?(w.push(q[1]),(q=zd.exec(n))&&4<q.length&&w.push(q[4]),c.push({code:n,b:w,type:"safe jquery",f:i,h:d})):r=i}r&&l.push(n)}}0<h.length&&b.push({code:h.join("\n"),type:"forced evaluation",h:d});0<l.length&&c.push({code:l.join("\n"),type:"safe non-jquery",t:i,h:d})}}
function Hc(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}var wd=[],vd={},Ka={},zd=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,xd=/^(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,yd=/^\$j?\(['"](.+?)['"]\)\..+;(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,La={},J=[];if(!mc){var X=$;X.fn.attr=pd(X.fn.attr);X.fn.css=pd(X.fn.css);X.fn.extend=pd(X.fn.extend);var Ad=X.each;X.each=function(a,b,c){if(!(a.length===g||X.isFunction(a))||!qd())Ad.apply(this,arguments);else if(c)for(var d in a){if(a.hasOwnProperty(d)&&b.apply(a[d],c)===k)break}else for(d in a)if(a.hasOwnProperty(d)&&!b.call(a[d],d,a[d])===k)break;return a};var Bd=X.fn.o,Cd=function(a,b,c){return new Bd(a,b,c)},Dd,Ed=document.getElementsByClassName;if(!tb(Ed))var Fd=(window.optimizely||{}).getElementsByClassName,
Gd=(window.optly||{}).getElementsByClassName,Ed=tb(Fd)?Fd:tb(Gd)?Gd:j;Dd=Ed;X.fn.o=function(a,b,c){var d=Cd,e=document.getElementsByClassName;!tb(e)&&Dd&&(d=function(a,b,c){document.getElementsByClassName=Dd;a=Cd(a,b,c);document.getElementsByClassName=e;return a});if(!("string"===typeof a&&b&&"object"===X.type(b)&&qd()))return d(a,b,c);a=d(a,g,c);a.attr(b);return a}}z("Main","Started, revision "+D("revision"));
for(var Hd=window.location.search,Id,Jd=/optimizely_([^=]+)=([^&]*)/g,Y={};Id=Jd.exec(Hd);)Y[Id[1]]=decodeURIComponent(Id[2]);var Kd=/x(\d+)/,Ld=k;p(Y,function(a,b){var c=Kd.exec(a);if(c&&(Ld=i,Bb=c=c[1],"-1"!==b)){var d,e=b.split("_");d=K(c);var f=[];if(d.length===e.length)p(d,function(a,b){var c=e[b];if(c=Pa(a)[c])f.push(c);else return f=[],j});else if(1===e.length){d=Na(c);var h=e[0],l=d[h];!l&&Aa(d,h)&&(l=h);l&&f.push(l)}d=f.join("_");h=!bb(c);Sa(d,"query",h);lc.push(c)}});
("true"===Y.opt_out||"false"===Y.opt_out)&&Vb("true"===Y.opt_out);var H="true"!==Y.disable&&"true"!==Y.opt_out&&"true"!==A("optimizelyOptOut"),zb="true"===Y.editor,Q=Y.load_script,Cb="true"===Y.preview,R="true"===Y.log,Db="true"===Y.verbose,Md="true"===Y.force_tracking,Ld=Ld||Cb,m=!Ld||Md;"false"===Y.client&&(H=k,Q="js/"+Wb()+".js");Q&&!rd()&&(z("Query","Blocked request to load unsafe script: "+Q),Q="");var Nd=document.location.hostname,Z=Nd.split("."),Od=Nd,Pd=Z[Z.length-1];
2<Z.length&&"appspot"===Z[Z.length-2]&&"com"===Pd?Od=Z[Z.length-3]+".appspot.com":1<Z.length&&od(Pd,nc)&&(Od=Z[Z.length-2]+"."+Pd);U=Od;o("Cookie","Guessed public suffix: %s",U);T=Uc(Nd);o("Cookie","Public suffix (from data): %s",T);pc&&o("Cookie","Api public suffix (from api): %s",pc);T||(T=A("optimizelyPublicSuffix")||"",o("Cookie","Public suffix (from cookie): %s",T));!pc&&(!T&&D("remote_public_suffix"))&&(o("Cookie","Making request for public suffix on DOM ready"),$(md(uc,Nd)));
var Qd=A("optimizelyBuckets"),Ac=Qd!==g&&Qd!==j,Rd;a:{for(var Sd=["googlebot","yahoo! slurp","bingbot","msnbot"],Td=navigator.userAgent.toLowerCase(),Ud=0;Ud<Sd.length;Ud++)if(-1!==Td.indexOf(Sd[Ud])){Rd=i;break a}Rd=k}Rd&&(m=k);var Vd=A("optimizelyBuckets");
if(Vd){try{Vd=Gb(Vd)}catch(Wd){Vd={}}var Xd={};p(Vd,function(a,b){var b=String(b),c=t(b);if(K(c).length>1&&b.indexOf("_")===-1){Xd[c]=Xd[c]||{};Xd[c][a]=b}else b!=="0"?Sa(b,"cookie",k)||(vd[a]=b):qb(a)});p(Xd,function(a,b){var c;a:{c=[];for(var d=K(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?Sa(c,"cookie",k):qb(a)})}$c();Ha=k;bd.push(Xa);wd.push(Xa);
var Yd={$:$,activeExperiments:wa||[],allExperiments:mb(),all_experiments:mb(),allVariations:D("variations")||{},data:L,getElementsByClassName:document.getElementsByClassName,revision:D("revision"),variationIdsMap:Ya,variation_map:Za,variationMap:Za,variationNamesMap:$a},Zd={},$d=md(function(a,b){var c=[],d=b;if(S(b)){c=nd(b,1);d=b[0]}var e=a[d];if(e){z("API",'Called function "'+d+'"');d!=="acknowledgePreviewMode"&&Hb(d,{type:"api"});e.apply(j,c)}else z("API",'Error for unknown function "'+d+'"');
jd()},Zd);
lb(Zd,{acknowledgePreviewMode:function(){z("Preview","Preview acknowledgement received");kc=i},activate:function(a,b,c){if(!H)return k;var d=typeof b==="number"||typeof b==="string"?String(b):j,e=b===i||b&&b.force===i||c&&c.force===i,f=typeof b==="object"&&b.skip===i||typeof c==="object"&&c.skip===i,b=typeof b==="object"&&b.skipPageview===i||typeof c==="object"&&c.skipPageview===i;if(d)try{Ia(a,d,i)}catch(h){z("API","Error while activating experiment "+a+" for variation "+d+" -- proceeding without bucketing user.")}var l=j,
n=[],r=[];Dc(a)?n.push(a):p(ab(),function(a){bb(a)&&n.push(a)});z("API","Testing experiments to activate");p(n,function(a){if(!e&&!Vc(a))nb.push(a);else if(e||Wc(a,{manualMode:i,objectType:"experiment"}))(l=pb(a,f))&&r.push(a)});Bc(r,n);Ta();ma();H&&!b&&I(document.location.href)},activateGeoDelayedExperiments:function(){if(!H)return k;z("API","Testing geodelayed segments");p(ob,function(a){ad(a)});var a=j,b=nb,c=[];z("API","Testing geodelayed experiments");p(b,function(b){if(Wc(b,{manualMode:i,objectType:"experiment"}))(a=
pb(b))&&c.push(b)});Bc(c,b);Ta();ma();H&&!Eb&&I(document.location.href);nb=[];ob=[];window.optimizelyGeo={};return i},activateSiteCatalyst:ga,addToSegment:ed,bindTrackElement:function(a,b){if(a&&b)if(Mc){z("Evaluator","Bound event "+b+" to selector "+a);Oc(a,b)}else{var c={c:b,b:a,type:"event '"+b+"' (click goal)",f:i};z("Evaluator","Add step to bind event "+c.c+" to selector "+c.b);Ic.push(c)}},bucketUser:Ia,bucketVisitor:Ia,clickTaleRecord:function(){o("Integrator","Tracking with ClickTale.");typeof window.ClickTaleField==
"function"?p(ka(),function(a){var b=t(a),c=v(b,a,100,100,15,k),c=c.key+": "+c.value+" (x"+b+"="+a+")";o("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):o("Integrator","ClickTaleField() not defined.")},clickTalePlayback:function(){if(window.ClickTaleContext){try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){a.Location&&window.optimizely.push(["overrideUrl",a.Location]);for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);
o("Integrator","Playback ClickTale Integration - %s",e);for(b=0;b<e.length;b++){o("Integrator","Playback ClickTale Integration - %s",e[b]);for(var f=e[b].split("=")[0].substr(1),h=e[b].split("=")[1].split("_"),l=0;l<h.length;l++)Ba(h[l])?o("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",f,h[l],{force:i}])}}})}catch(a){o("Integrator","Playback ClickTale Aggregation Integration failed.")}try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){if(a.inSingleRecordingScope){a.location&&
window.optimizely.push(["overrideUrl",a.location]);o("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields){o("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]);Ba(a.fields[b])?o("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",b,a.fields[b],{force:i}])}}})}catch(b){o("Integrator","Playback ClickTale Recording Integration failed.")}}else o("Integrator","ClickTaleContext not defined.")},customTag:function(a,b){if(Ha)z("API",
"Error: can't add custom tags after Optimizely loads");else{G=G||{};arguments.length==2?G[a]=b:arguments.length==1&&$.extend(i,G,a)}},delayDomReadyEval:function(a){Rc=a},delayPageviewTracking:function(a){if(!Dc(a))return k;yb=Number(a)},disable:Va,log:function(){R=i},getAccountId:Xb,getProjectId:Wb,googleAnalyticsCustomVariableScope:function(a){a=Dc(a)?Number(a):-1;if([1,2,3].indexOf(a)!==-1)ta=a;else return ta},integrationPrefix:function(a){na=a},optOut:Vb,overrideUrl:function(a){o("User","Setting current URL to %s",
a);zc=a},preview:function(){kc||ic()},push:$d,removeFromAllSegments:function(){var a=cb();p(a,function(a){gd(a,k)});dd()},removeFromSegment:gd,sc_activate:ga,sc_svar:function(a){ha=a},setCookieDomain:function(a){var b=pc||T||U;if(b!==a){pc=String(a)||"";o("Cookie","Api public suffix set to: %s",pc);cd();rc("optimizelySegments",b)}},skipPageTracking:function(){Eb=i},optOutThirdPartyCookies:function(){Ab=i},timeout:Va,trackEvent:function(a,b){var c={},c=g,d=D("custom_revenue_goals");d&&(a in d&&Dc(d[a]))&&
(c=d[a]);var c=b&&Dc(b)?{a:Number(b)}:b&&b.revenue?{a:b.revenue}:c?{a:c}:b,d=$b(),e={};p(d,function(a){e[a]=i});$.extend(c,{d:e});I(a,"custom",c)},verbose:function(){Db=R=i}});lb(Yd,Zd);var ae=window.optimizely;S(ae)&&p(ae,function(a){$d(a)});window.optimizely=Yd;window.optimizely.iapi={evaluateSegments:function(){W={};$c()}};z("Info","Is enabled: "+H);z("Info","Script to load: "+(Q||"none"));z("Info","Browser type: "+eb());z("Info","Browser version: "+Zb());var be=jb();
"unknown"!==be&&z("Info","Mobile browser type: "+be);z("Info","New vs returning: "+(Ac?"returning":"new"));z("Info","Source type: "+yc());z("Info","User ID: "+Yb());Q&&jc(Q);
H&&(p(ab(),function(a){if(!od(a,F))if(Vc(a)){if(Wc(a,{objectType:"experiment"})){z("Distributor","Going to distribute "+C(a));var b=pb(a),c=k;if(lc.length>0&&!Aa(lc,a)){z("Distributor","Not going to evaluate because of preview mode, for "+C(a));c=i;P[a]="it is not being previewed"}if(b&&!c){F=F||[];F.push(a)}}}else bb(a)||nb.push(a)}),Ta(),Lb(),Eb||(0<yb?setTimeout(function(){Pb()},yb):Pb()),Kb(),ma());
R&&(p(Ka,function(a){var b=x(a,"name")||"";z("Plan","Ignore experiment '"+b+"' ("+a+")")}),p(J,function(a){var b=t(a.id),c=za(a.id);z("Plan",C(b)+' in variation "'+c+'" ('+a.id+")")}));if(zb)Wa();else if(H&&(Bc(),Wa(),jd(),!D("installation_verified")&&m)){var de="//"+D("www_host")+"/account/snippet_installed?project_id="+Wb()+"&wxhr=true";z("Tracker","Making snippet verification request.");Rb(de,j)}Cb&&ic();setTimeout(function(){window.optimizelyCode={}},0);
setTimeout(function(){try{window.optimizely.iapi.geoTimedOut=!(window.optimizely.data.visitor.location.city!==""||window.optimizely.data.visitor.location.continent!==""||window.optimizely.data.visitor.location.country!==""||window.optimizely.data.visitor.location.region!=="");window.optimizely.activateGeoDelayedExperiments=g}catch(a){}},2E3);z("Main","End of main");
optly.Cleanse.finish();
};
optimizelyCode();
